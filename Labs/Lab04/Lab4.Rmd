---
title: "Lab4"
author: "Clayton Curry"
date: "`r Sys.Date()`"
output: 
  html_document:
    toc: yes
    toc_float: yes
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Task 1
```{r}
getwd()
```

# Task 2
```{r}
spruce.df <- read.table("SPRUCE.csv", header = TRUE, sep = ",")
tail(spruce.df)
```

# Task 3

## Lowess smoother scatter plot
```{r}
library(s20x)
trendscatter(Height~BHDiameter, data = spruce.df, f = 0.5, main = "Lowess smoother scatter plot (Ht vs BHD)")
```

## Make a linear model object
```{r}
spruce.lm = with(spruce.df, lm(Height~BHDiameter))
```

## Find residuals using residuals(), put them into an object called height.res
```{r}
height.res = residuals(spruce.lm)
```

## Find the fitted values using fitted(), and place them in an object called height.fit.
```{r}
height.fit = fitted(spruce.lm)
```

## Plot the Residuals vs. Fitted
```{r}
plot(x = height.fit, y = height.res, xlim = c(5, 30))
```

## Plot the residuals vs fitted using trendscatter()
```{r}
trendscatter(x = height.fit, y=height.res)
```

## Shape of Plot
The plot resembles a hyperbolic

## Residual plot

## Check normality
```{r}
normcheck(spruce.lm, shapiro.wilk = TRUE)
```

## P-Value and Null-Hypothesis

Because the p=value is greater than 0.05, we accept the null hypothesis which says our error is distributed normally.

According to the Lab 4 task sheet, if the model works well, we should expect residuals that are approximately normal in distribution with mean 0 and constant variance.

## Evaluating the model
```{r}
round(mean(height.res), 4)
```

The mean is 0 for the residuals.
## Conclusion
Based on the ashape of the plot of residuals vs. fitted height values, we should not use a straight line model. The shape has a distinct quadratic shape. We are finding 'signal' when we should just be finding 'noise'. Because this model does not properly fit the data, we must adjust our model.
# Task 4

## Fit a quadratic

## Make a fresh plot and add quadratic curve

## Make quad. fit

## Check normality

## Conclusion

# Task 5

## Summarize quad.lm

## Beta hat values

## Interval estimates

## Equation of fitted line

## Height predictions

## Comparison

## Multiple R-squared

## Adjusting R-squared

## Meaning of multiple R-squared

## Model with most variability

## anova

## TSS, MSS, RSS

### TSS

### MSS

### RSS

## MSS/TSS

# Task 6

## Cook's Plot

## What Cook's distance is

## quad2.lm

## quad2.lm summary

## Comparison with quad.lm

## Conclusion

# Task 7

## Proof

## Reproducing plot

# Task 8

# Extra
